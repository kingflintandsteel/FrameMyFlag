import{_ as p,o as l,b as a,d as s,F as h,e as m,r as _,f as v,t as d,g as f,h as S,w as I,v as b,p as D,j as B}from"./index-a0f8b309.js";const z={name:"ImageSelector",data:function(){return{index:0}},props:{images:{type:Array,required:!0}},methods:{switchMain:function(e){this.index=e}}},E={class:"selector"},k=["src"],q={class:"smallImages"},w=["src","onClick"];function P(e,t,i,n,g,c){return l(),a("div",E,[s("img",{src:i.images[e.index].src,width:"500",class:"bigImage"},null,8,k),s("div",q,[(l(!0),a(h,null,m(i.images,u=>(l(),a("img",{key:u.index,src:u.src,onClick:r=>c.switchMain(u.index),class:"smallImage"},null,8,w))),128))])])}const O=p(z,[["render",P],["__scopeId","data-v-adacdd88"]]);const F={name:"storeComponent",components:{imageSelector:O},data:function(){return{price:0,salePrice:null,quantity:1,size:""}},props:{type:{type:String,required:!0},images:{type:Array,required:!0},title:{type:String,required:!0},sizes:{type:Array,required:!0},defaultSize:{type:String,required:!0},description:{type:String,required:!0},formItems:{type:Array,required:!0},staticDetails:{type:Boolean,required:!1,default:!1}},methods:{getSelectedOptions:function(){var e=[];return this.formItems.forEach(t=>{e.push(this.getSelectedOption(t.id))}),e},getSelectedOption:function(e){try{return document.getElementById(e).value}catch{return null}},getFrameStyle:function(){var e=this.getSelectedOption("frameStyle");return e||(this.type=="traditional"?"BlackSatinMetal":null)},getCustomFramed:function(){var e=this.getSelectedOption("customFraming");return e==1?1:0},purchase:function(){sessionStorage.cart=JSON.stringify({type:this.type,size:this.size,price:this.salePrice?this.salePrice:this.price,frame:this.getFrameStyle(),customFramed:this.getCustomFramed(),quantity:this.quantity,image:this.images[0].src,onSale:!!this.salePrice}),this.$router.push("/checkout")},defaultSizeSelect:function(){document.getElementById(this.formItems[0].id).value=this.defaultSize},removeSelected:function(e){e.value=null},noDefaultOptions:function(){for(var e=0;e<this.formItems.length;e++){var t=document.getElementById(this.formItems[e].id);this.removeSelected(t)}},findShownDetail:function(){for(var e=document.getElementById("allDetails").children,t=0;t<e.length;t++)if(e[t].style.display=="block")return e[t].id},hideElement:function(e){var t=document.getElementById(e);t.style.display="none",t.classList.remove("shiftRightOut")},showNewDetails:function(){if(!this.staticDetails){var e=this.findShownDetail(),t="details_"+this.size;document.getElementById(e).classList.add("shiftRightOut"),document.getElementById(t).style.display="block",document.getElementById("allDetails").style.height=this.findDetailsHeight(t),setTimeout(this.hideElement,1e3,e)}},showFirstDetails:function(){var e="details_"+this.size;document.getElementById(e).style.display="block",document.getElementById("allDetails").style.height=this.findDetailsHeight(e)},changePrice:function(){for(var e=0;e<this.sizes.length;e++)this.size==this.sizes[e].value&&(this.price=this.sizes[e].price,this.salePrice=this.sizes[e].salePrice)},getSelectId:function(e){for(var t=0;t<this.formItems.length;t++)if(this.formItems[t].id==e)return this.formItems[t]},disableOptions:function(e){for(var t=document.getElementById(e).children,i=this.getSelectId(e),n=0;n<i.options.length;n++)i.options[n].disabledSizes?i.options[n].disabledSizes.includes(this.size)?(t[n].disabled=!0,t[n].selected=!1):t[n].disabled=!1:i.options[n].forcedSizes&&i.options[n].forcedSizes.includes(this.size)&&(t[n].disabled=!1,t[n].selected=!0)},changeForm:function(e){e.srcElement.id=="size"&&(this.size=e.srcElement.value,this.changePrice(),this.showNewDetails(),this.formItems.forEach(t=>this.disableOptions(t.id))),this.getSelectedOptions().includes("")||(document.getElementById("buyButton").disabled=!1)},findDetailsHeight:function(e){var t=document.getElementById("productDetailsTitle").offsetHeight;t=t+8;var i=document.getElementById(e).offsetHeight,n=t+i;return n+"px"}},mounted(){document.getElementById("buyButton").addEventListener("click",function(e){e.preventDefault()}),this.size=this.defaultSize,this.noDefaultOptions(),this.defaultSizeSelect(),this.showFirstDetails(),this.changePrice(),this.getSelectedOptions().includes("")||(document.getElementById("buyButton").disabled=!1)}},y=e=>(D("data-v-7cb77589"),e=e(),B(),e),C={class:"store"},$={class:"imageSelector"},N={class:"aboutItem"},L={class:"title"},T={class:"priceDiv"},H={class:"price",id:"price"},V={key:0},A={key:1},M={key:0,class:"price",id:"salePrice"},R={class:"description"},j={id:"allDetails",class:"allDetails"},J=y(()=>s("p",{id:"productDetailsTitle",class:"productDetailsTitle"},"Product Details",-1)),Q=["id"],U={style:{margin:"0px"}},G={class:"form"},K=["for"],W=["id"],X=["value"],Y={class:"formDiv"},Z=y(()=>s("label",{for:"quantity",class:"formLabel"},"Quantity",-1)),x={class:"buyButtonDiv"};function ee(e,t,i,n,g,c){const u=_("imageSelector");return l(),a("div",C,[s("div",$,[v(u,{images:i.images},null,8,["images"])]),s("div",N,[s("div",null,[s("p",L,d(i.title),1)]),s("div",T,[s("p",H,[e.salePrice?(l(),a("s",V,"$"+d(e.price),1)):f("",!0),S(),e.salePrice?f("",!0):(l(),a("span",A,"$"+d(e.price),1))]),e.salePrice?(l(),a("p",M,"$"+d(e.salePrice),1)):f("",!0)]),s("div",null,[s("p",R,d(i.description),1)]),s("div",null,[s("div",j,[J,(l(!0),a(h,null,m(this.sizes,r=>(l(),a("div",{key:r.value,id:"details_"+r.value,class:"details",style:{display:"none"}},[s("ul",U,[(l(!0),a(h,null,m(r.details,o=>(l(),a("li",{key:o,class:"detail"},d(o),1))),128))])],8,Q))),128))])]),s("form",G,[(l(!0),a(h,null,m(i.formItems,r=>(l(),a("div",{class:"formDiv",key:r.id},[s("label",{for:r.id,class:"formLabel"},d(r.label),9,K),s("select",{id:r.id,class:"formSelect",onChange:t[0]||(t[0]=o=>c.changeForm(o))},[(l(!0),a(h,null,m(r.options,o=>(l(),a("option",{key:o.name,value:o.value},d(o.name),9,X))),128))],40,W)]))),128)),s("div",Y,[Z,I(s("input",{type:"number",id:"quantity",class:"quantitySelect",min:"1","onUpdate:modelValue":t[1]||(t[1]=r=>e.quantity=r)},null,512),[[b,e.quantity]])]),s("div",x,[s("button",{onClick:t[2]||(t[2]=(...r)=>c.purchase&&c.purchase(...r)),disabled:"",class:"buyButton",id:"buyButton"},"Buy Now")])])])])}const se=p(F,[["render",ee],["__scopeId","data-v-7cb77589"]]);export{se as s};
